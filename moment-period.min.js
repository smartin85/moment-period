!function(e,t){"use strict";"object"==typeof exports?module.exports=t(require("moment")):"function"==typeof define&&define.amd?define("moment-period",["moment"],t):e.moment=t(e.moment)}(this,function(r){"use strict";var i,o={},n="_p",s="_po",a="year_quarter_month_week_day_hour_minute_second_millisecond".split("_"),l="_p_period_periods_isoWeek_weekday_isoWeekday_weekYear_isoWeekYear_date_dayOfYear".split("_").concat(a),e=r.version.split("."),t=r.momentProperties,f=+e[0],c=+e[1],e=+e[2],u=r.fn,d={};function p(e,t,n){d[e]=u[e],u[e]=function(){return(M.call(this,arguments[t])?n:d[e]).apply(this,arguments)}}function m(e,t){var n="string"==typeof e?e:i;if(o[n])return n&&o[n].name;t||y("Moment Period has no data for "+e)}function h(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function y(e){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e)}function _(e){return"period"===e||"p"===e||"periods"===e}function v(e){return{from:(e=r.isMoment(e)?e.clone():r(e)).clone().period(!0),to:e.clone().period(!1)}}if(void 0!==r.period)return h("Moment Period "+r.period.version+" was already loaded "),r;if((f<2||2==f&&c<8&&e<1)&&h("Moment Period requires Moment.js >= 2.8.1. You are using Moment.js "+r.version+". See momentjs.com"),0<=t.indexOf(n))for(;n+="_",t.indexOf(n)<0;);if(0<=t.indexOf(s))for(;s+="_",t.indexOf(s)<0;);function M(e){return _(e)?o[this[n]]:o[e]}function g(){var e;this[n]||(this[n]=i),(e=o[this[n]])&&e.align.call(this,[this[s]])}function O(e,t){var n=M.call(this,t),t=(r.isMoment(e)?e.clone():r(e)).period(!!_(t)||n.name);return this.clone().period(n.name).period(!1)<t.period(!0)}function w(e,t){var n=M.call(this,t),t=(r.isMoment(e)?e.clone():r(e)).period(!!_(t)||n.name);return this.clone().period(n.name).period(!0)>t.period(!1)}function x(e,t){var n,i,o=M.call(this,t);return _(t)?(n=(r.isMoment(e)?e.clone():r(e)).fromTo(),(i=this.fromTo()).from<=n.from&&i.to>=n.to):(n=(r.isMoment(e)?e.clone():r(e)).period(o.name).fromTo(),(i=this.clone().period(o.name).fromTo()).from<=n.from&&i.to>=n.to)}function k(e){var t=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1];return 1===arguments.length&&"string"==typeof e?o[e]:r.apply(null,t).period(m(n))}return k.version="1.0.10",k._periods=o,k._default=i,k.setDefault=function(e){return i=e?m(e):void 0,r.fn[n]=i,r.period},k.add=function(e){for(var t=0,n=(e=!Array.isArray(e)?[e]:e).length;t<n;t++)!function(t){var e=t&&r.normalizeUnits(t.unit),n=t&&r.normalizeUnits(t.name);t&&t.name&&e?(a.indexOf(e)<0&&y(e+" is not a safe unit for calculations"),t.unit=e,t.count=t.count||1,t.align="function"==typeof t.align?t.align:function(){var e=this.get(t.unit);this.set(t.unit,e-e%t.count).startOf(t.unit)},0<=l.indexOf(n)?h(t.name+" is not allowed as period name because it equals "+(n?"the Moment.js-unit "+n:"the identifier for own periods")):o[t.name]=t):h(JSON.stringify(t)+" is not a valid period")}(e[t]);return r.period},k.fromTo=v,r.period=k,u.period=function(e,t){return void 0===e?m(this[n],!0):("string"==typeof e&&(this[n]=m(e),t&&(this[s]=t)),null===e&&(delete this[n],delete this[s]),this[s]=t||this[s],this[n]||(this[n]=i),!0===e&&g.call(this),!1===e&&function(){g.call(this),this[n]&&this.add(1,"p").subtract(1,"ms")}.call(this),this)},u.fromTo=function(e,t){var n=this.clone();return e&&n.period(e,t),v(n)},p("startOf",0,function(e,t){return(_(e)?this:this.period(e,t)).period(!0)}),p("endOf",0,function(e,t){return(_(e)?this:this.period(e,t)).period(!1)}),p("add",1,function(e,t){return t=M.call(this,t),d.add.call(this,t.count*e,t.unit)}),p("subtract",1,function(e,t){return t=M.call(this,t),d.subtract.call(this,t.count*e,t.unit)}),p("isBefore",1,O),p("isAfter",1,w),p("isSame",1,x),p("isSameOrBefore",1,function(e,t){return x.apply(this,arguments)||O.apply(this,arguments)}),p("isSameOrAfter",1,function(e,t){return x.apply(this,arguments)||w.apply(this,arguments)}),p("isBetween",2,function(e,t,n,i){var o=M.call(this,n),o=_(n)?(e=(r.isMoment(e)?e.clone():r(e)).period(!1),t=(r.isMoment(t)?t.clone():r(t)).period(!0),v(this)):(e=(r.isMoment(e)?e.clone():r(e)).period(o.name).period(!1),t=(r.isMoment(t)?t.clone():r(t)).period(o.name).period(!0),v(this.clone().period(o.name)));return d.isBetween.call(o.from,e,t,null,i)&&d.isBetween.call(o.to,e,t,null,i)}),p("format",0,function(e){var t=M.call(this,e),n=t&&t.format,i=Array.prototype.slice.call(arguments);return"function"==typeof n?n.call(this,i.shift()):"string"==typeof n?d.format.call(this,n):d.format.call(this,t?void 0:e)}),t.push(n),t.push(s),r});
